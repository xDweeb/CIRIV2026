---
import { useTranslations } from '../i18n/ui';

interface Props {
  locale: 'fr' | 'en' | 'ar';
}

const { locale } = Astro.props;
const t = useTranslations(locale);

const cards = {
  fr: [
    {
      title: "Santé Humaine",
      description: "Améliorer le bien-être des populations par la prévention et l'innovation médicale.",
      icon: "human",
      color: "from-blue-400 to-blue-600"
    },
    {
      title: "Santé Animale",
      description: "Protéger les ressources animales et prévenir les maladies zoonotiques.",
      icon: "animal",
      color: "from-orange-400 to-orange-600"
    },
    {
      title: "Santé Environnementale",
      description: "Préserver nos écosystèmes pour un avenir durable et résilient.",
      icon: "env",
      color: "from-emerald-400 to-emerald-600"
    }
  ],
  en: [
    {
      title: "Human Health",
      description: "Improving population well-being through prevention and medical innovation.",
      icon: "human",
      color: "from-blue-400 to-blue-600"
    },
    {
      title: "Animal Health",
      description: "Protecting animal resources and preventing zoonotic diseases.",
      icon: "animal",
      color: "from-orange-400 to-orange-600"
    },
    {
      title: "Environmental Health",
      description: "Preserving our ecosystems for a sustainable and resilient future.",
      icon: "env",
      color: "from-emerald-400 to-emerald-600"
    }
  ],
  ar: [
    {
      title: "صحة الإنسان",
      description: "تحسين رفاهية السكان من خلال الوقاية والابتكار الطبي.",
      icon: "human",
      color: "from-blue-400 to-blue-600"
    },
    {
      title: "صحة الحيوان",
      description: "حماية الثروة الحيوانية والوقاية من الأمراض الحيوانية المنشأ.",
      icon: "animal",
      color: "from-orange-400 to-orange-600"
    },
    {
      title: "صحة البيئة",
      description: "الحفاظ على نظمنا البيئية لمستقبل مستدام ومرن.",
      icon: "env",
      color: "from-emerald-400 to-emerald-600"
    }
  ]
};

const items = cards[locale] || cards.fr;
---

<section class="py-20 bg-white dark:bg-slate-900 relative overflow-hidden">
  
  <div class="absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-emerald-500/30 to-transparent"></div>
  
  <div class="container mx-auto px-4">
    <div class="text-center mb-16 max-w-3xl mx-auto">
      <span class="text-emerald-600 font-bold tracking-wider uppercase text-sm mb-2 block">Notre Approche</span>
      <h2 class="text-3xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6">
        Les Piliers du <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-blue-600">One Health</span>
      </h2>
      <p class="text-slate-600 dark:text-slate-400 text-lg">
        Une approche intégrée et unificatrice qui vise à équilibrer et à optimiser durablement la santé des personnes, des animaux et des écosystèmes.
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      {items.map((item, index) => (
        <div class="group relative perspective-1000">
          <div class="absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-500 rounded-2xl transform rotate-1"></div>
          
          <div class="relative bg-slate-50 dark:bg-slate-800 rounded-2xl p-8 border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 h-full flex flex-col items-center text-center">
            
            <div class={`w-20 h-20 rounded-full bg-gradient-to-br ${item.color} flex items-center justify-center text-white mb-6 shadow-lg transform group-hover:scale-110 transition-transform duration-500`}>
              {item.icon === 'human' && (
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
              )}
              {item.icon === 'animal' && (
                 <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 10.5h4m-4 3h4m9-1.5a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              )}
              {item.icon === 'env' && (
                 <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              )}
            </div>

            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">{item.title}</h3>
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
              {item.description}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .perspective-1000 {
    perspective: 1000px;
  }
</style>
