---
import { useTranslations } from '../i18n/ui';
import { link } from '../utils/paths';

interface Props {
  locale: 'fr' | 'en' | 'ar';
  showCTA?: boolean;
}

const { locale, showCTA = true } = Astro.props;
const t = useTranslations(locale);
const isRTL = locale === 'ar';

// Define localized text
const texts = {
  fr: {
    title: "Devenir Partenaire",
    subtitle: "Associez votre image à l'innovation et à la recherche.",
    heading: "Soutenez le CIRIV'26",
    description: "Le CIRIV'26 offre une opportunité unique de connecter votre marque avec les leaders de la recherche et de l'innovation. Découvrez nos offres de sponsoring exclusives.",
    download: "Télécharger le dossier",
    contact: "Nous contacter",
    organizedBy: "Organisé par"
  },
  en: {
    title: "Become a Partner",
    subtitle: "Associate your image with innovation and research.",
    heading: "Support CIRIV'26",
    description: "CIRIV'26 offers a unique opportunity to connect your brand with research and innovation leaders. Discover our exclusive sponsorship offers.",
    download: "Download the Dossier",
    contact: "Contact Us",
    organizedBy: "Organized by"
  },
  ar: {
    title: "كُن شريكاً",
    subtitle: "اربط صورتك بالابتكار والبحث.",
    heading: "ادعم CIRIV'26",
    description: "يقدم CIRIV'26 فرصة فريدة لربط علامتك التجارية بقادة البحث والابتكار. اكتشف عروض الرعاية الحصرية لدينا.",
    download: "تحميل الملف",
    contact: "اتصل بنا",
    organizedBy: "من تنظيم"
  }
};

const txt = texts[locale] || texts.fr;
---

<section class="py-24 relative overflow-hidden bg-slate-50 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800" dir={isRTL ? 'rtl' : 'ltr'}>
  
  <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(#059669 1px, transparent 1px); background-size: 32px 32px;"></div>
  
  <div class="container mx-auto px-4 relative z-10">
    
    <div class="max-w-5xl mx-auto bg-white dark:bg-slate-800 rounded-3xl shadow-xl overflow-hidden border border-slate-100 dark:border-slate-700">
      <div class="grid md:grid-cols-2">
        
        <div class="relative bg-emerald-900 h-64 md:h-auto overflow-hidden group">
           <div class="absolute inset-0 bg-gradient-to-br from-emerald-800 to-slate-900 opacity-90"></div>
           <div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
           
           <div class="absolute inset-0 flex items-center justify-center p-8 text-center">
              <div>
                <div class="w-16 h-16 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/20 group-hover:scale-110 transition-transform duration-500">
                   <svg class="w-8 h-8 text-emerald-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                </div>
                <h3 class="text-2xl font-bold text-white mb-2">{txt.title}</h3>
                <p class="text-emerald-100/80 text-sm">{txt.subtitle}</p>
              </div>
           </div>
        </div>

        <div class="p-8 md:p-12 flex flex-col justify-center text-center md:text-left">
           <h4 class="text-2xl font-bold text-slate-900 dark:text-white mb-4">
             {txt.heading}
           </h4>
           <p class="text-slate-600 dark:text-slate-300 mb-8 leading-relaxed">
             {txt.description}
           </p>
           
           <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
             <a href="/sponsoring-ciriv26.pdf" download="Dossier_Sponsoring_CIRIV26.pdf" class="inline-flex items-center justify-center px-6 py-3 bg-emerald-600 text-white font-semibold rounded-xl hover:bg-emerald-700 transition-all shadow-lg hover:shadow-emerald-600/30">
               <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
               {txt.download}
             </a>
             
             <a href={link({ locale, slug: 'contact' })} class="inline-flex items-center justify-center px-6 py-3 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 transition-all">
               {txt.contact}
             </a>
           </div>
        </div>

      </div>
    </div>

    <div class="mt-16 pt-8 border-t border-slate-200 dark:border-slate-800 text-center">
       <p class="text-xs text-slate-400 uppercase tracking-widest font-bold mb-6">{txt.organizedBy}</p>
       
       <div class="flex flex-wrap justify-center items-center gap-8 md:gap-12 opacity-50 hover:opacity-100 transition-opacity duration-300">
          <img src="/assets/logos/AMARINOVA.png" alt="AMARINNOVA" class="h-16 w-auto grayscale hover:grayscale-0 transition-all" />
          
          <img src="/assets/logos/IAV.png" alt="IAV Hassan II" class="h-16 w-auto grayscale hover:grayscale-0 transition-all" />

          <img src="/assets/logos/FSBM.png" alt="FSBM" class="h-14 w-auto grayscale hover:grayscale-0 transition-all" />
          
          <img src="/assets/logos/UH2C.png" alt="Univ H2" class="h-14 w-auto grayscale hover:grayscale-0 transition-all" />
       </div>
    </div>

  </div>
</section>
