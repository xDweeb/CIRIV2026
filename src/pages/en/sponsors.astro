---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { useTranslations } from '../../i18n/ui';
import sponsors from '../../content/sponsors.json';

const locale = 'en';
const t = useTranslations(locale);
const baseUrl = import.meta.env.BASE_URL || '/';

// Type mapping for translations
const typeLabels: Record<string, string> = {
  'Institutional': 'Institutional Partner',
  'Academic': 'Academic Partner',
  'Partner': 'Partner'
};

function getTypeLabel(type: string): string {
  return typeLabels[type] || type;
}

const hasSponsors = sponsors && sponsors.length > 0;
---

<BaseLayout
  title="Partners & Sponsors - CIRIV'26"
  description="Discover the institutional and academic partners of the International Congress on Research, Innovation and Valorization CIRIV'26"
  locale={locale}
>
  <Header locale={locale} currentPath={Astro.url.pathname} />
  
  <main class="min-h-screen bg-slate-50 dark:bg-slate-900 overflow-hidden">
    
    <div class="relative py-20 lg:py-28 bg-emerald-900">
       <div class="absolute inset-0 bg-[url('/images/pattern.svg')] opacity-10"></div>
       <div class="absolute inset-0 bg-gradient-to-br from-emerald-900 to-slate-900 opacity-90"></div>
       
       <div class="container mx-auto px-4 relative z-10 text-center">
          <span class="inline-block px-4 py-1.5 rounded-full bg-emerald-500/20 text-emerald-300 text-sm font-bold tracking-widest uppercase mb-6 backdrop-blur-sm border border-emerald-500/30">
             Collaboration
          </span>
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-black text-white mb-6 tracking-tight">
             Our Partners
          </h1>
          <p class="text-lg md:text-xl text-emerald-100/80 max-w-2xl mx-auto leading-relaxed">
             They support innovation and scientific research. Discover the institutions that make CIRIV'26 possible.
          </p>
       </div>
    </div>

    <div class="container mx-auto px-4 -mt-16 relative z-20 pb-20">
      
      <div class="bg-white dark:bg-slate-800 rounded-3xl p-8 md:p-12 shadow-2xl border border-slate-100 dark:border-slate-700 mb-12">
        <div class="text-center mb-10">
           <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Institutional Partners</h2>
           <div class="w-16 h-1 bg-emerald-500 mx-auto rounded-full"></div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12 items-center justify-center">
          {[
            { img: 'AMARINOVA.png', name: 'AMARINNOVA' },
            { img: 'IAV.png', name: 'IAV Hassan II' },
            { img: 'FSBM.png', name: 'FSBM' },
            { img: 'UH2C.png', name: 'Hassan II University' }
          ].map((partner) => (
            <div class="group flex flex-col items-center">
               <div class="h-24 w-full flex items-center justify-center p-4 transition-transform duration-300 group-hover:scale-110">
                  <img src={`/assets/logos/${partner.img}`} alt={partner.name} class="max-h-full max-w-full object-contain filter grayscale opacity-70 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-300" />
               </div>
               <p class="mt-4 text-sm font-semibold text-slate-400 group-hover:text-emerald-600 transition-colors text-center">{partner.name}</p>
            </div>
          ))}
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-8 mb-16">
         <div class="bg-gradient-to-br from-emerald-600 to-teal-700 rounded-3xl p-8 md:p-10 text-white shadow-xl flex flex-col justify-center items-start">
            <h3 class="text-2xl font-bold mb-4">Become an Official Partner</h3>
            <p class="text-emerald-50 mb-8 leading-relaxed">
               Associate your brand with scientific excellence. Benefit from international visibility and connect with tomorrow's leaders.
            </p>
            <a href="/en/contact" class="px-6 py-3 bg-white text-emerald-700 font-bold rounded-xl hover:bg-emerald-50 transition-colors shadow-lg">
               Contact Us
            </a>
         </div>

         <div class="bg-white dark:bg-slate-800 rounded-3xl p-8 md:p-10 shadow-xl border border-slate-100 dark:border-slate-700 flex flex-col justify-center items-center text-center">
            <div class="w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-2xl flex items-center justify-center mb-6 text-blue-600 dark:text-blue-400">
               <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
            </div>
            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-2">Sponsorship Dossier</h3>
            <p class="text-slate-500 dark:text-slate-400 text-sm mb-6">Download the complete document (PDF)</p>
            
            <a 
              href="/documents/Dossier_Sponsoring_CIRIV2026.pdf" 
              download
              class="w-full py-3 border-2 border-slate-200 dark:border-slate-600 rounded-xl font-semibold text-slate-600 dark:text-slate-300 hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all flex items-center justify-center gap-2"
            >
              <span>Download</span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            </a>
         </div>
      </div>

      {hasSponsors && (
        <div class="space-y-8">
           <div class="text-center">
              <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Our Sponsors</h2>
           </div>

           <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
             {sponsors.map((sponsor) => (
               <a href={sponsor.url} target="_blank" rel="noopener" class="group bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm hover:shadow-lg border border-slate-100 dark:border-slate-700 transition-all duration-300 flex items-center gap-4">
                  <div class="w-16 h-16 bg-slate-50 dark:bg-slate-700 rounded-xl flex items-center justify-center p-2">
                     {sponsor.logo ? (
                        <img src={`${baseUrl}${sponsor.logo}`} alt={sponsor.name} class="max-w-full max-h-full object-contain" />
                     ) : (
                        <span class="text-2xl font-bold text-slate-300">#</span>
                     )}
                  </div>
                  <div>
                     <p class="text-xs text-emerald-600 font-bold uppercase tracking-wider mb-1">{getTypeLabel(sponsor.type)}</p>
                     <h3 class="font-bold text-slate-900 dark:text-white group-hover:text-emerald-600 transition-colors">{sponsor.name}</h3>
                  </div>
               </a>
             ))}
           </div>
        </div>
      )}

    </div>
  </main>

  <Footer locale={locale} />
</BaseLayout>
