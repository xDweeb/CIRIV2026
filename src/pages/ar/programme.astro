---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { useTranslations } from '../../i18n/ui';
import { link } from '../../utils/paths';

const locale = 'ar';
const t = useTranslations(locale);

const day1 = [
  { time: '09:00 – 10:00', session: 'استقبال المشاركين والتسجيل', speakers: 'فريق التنظيم', type: 'event' },
  { time: '10:00 – 11:00', session: 'الجلسة الافتتاحية / المسؤولون', speakers: 'أ.د فاسي فهري (جمعية الصحة الواحدة المغرب)، وزير الفلاحة، مدير معهد الحسن الثاني للزراعة والبيطرة، نائب رئيس جامعة الحسن الثاني، عميد كلية العلوم بن مسيك، رئيس AMARINOVA ورئيس CIRIV\'26', type: 'plenary' },
  { time: '11:00 – 11:45', session: 'المحاضرة العامة الافتتاحية\nالصحة الواحدة 2030: نحو حوكمة متكاملة للصحة البشرية والحيوانية والبيئية', speakers: 'المحاضرة: أ.د فاسي فهري\nإدارة الجلسة: أ.د طانان', type: 'plenary' },
  { time: '11:45 – 12:15', session: 'استراحة قهوة', speakers: '—', type: 'break' },
  { time: '12:15 – 13:00', session: 'الجلسة 1: الواجهات البيولوجية، الطوارئ الصحية وديناميكيات الانتقال\nالأمن الحيوي والصحة الواحدة: ركيزة الوقاية والمرونة وحوكمة المخاطر البيولوجية', speakers: 'المحاضرة: أ.د بلقاضي\nإدارة الجلسة: أ.د مدراوي و أ.د نوري', type: 'session' },
  { time: '13:00 – 14:00', session: 'العروض الشفهية / الجلسة 1', speakers: 'أ.د نوري و أ.د مدراوي', type: 'oral' },
  { time: '14:00 – 14:30', session: 'استراحة غداء', speakers: '—', type: 'break' },
  { time: '14:30 – 15:15', session: 'الجلسة 2: الأنظمة الغذائية والأمن الغذائي\nمحاضرة عامة', speakers: 'المحاضر: أ.د سارة ريمون\nإدارة الجلسة: أ.د رواس و د. موجبير', type: 'session' },
  { time: '15:15 – 16:15', session: 'العروض الشفهية / الجلسة 2', speakers: 'أ.د رواس و د. موجبير', type: 'oral' },
  { time: '16:15 – 16:30', session: 'استراحة قهوة', speakers: '—', type: 'break' },
  { time: '16:30 – 17:30', session: 'ورشة العمل 1', speakers: 'AMBS', type: 'workshop' },
  { time: '17:30 – 18:30', session: 'ورشة العمل 2', speakers: 'أ.د كسراوي عزيز و د. الموسطي', type: 'workshop' },
];

const day2 = [
  { time: '09:00 – 09:45', session: 'الجلسة 3: البيئة، التعرضات والتأثيرات على الصحة العالمية\nمن الإجهاد البيئي إلى الاضطرابات التناسلية: التلوث، التغيرات البيئية والصحة العالمية', speakers: 'المحاضرة: أ.د جولي غارنييه\nإدارة الجلسة: أ.د مذكور و أ.د لعكيلي', type: 'session' },
  { time: '09:45 – 10:45', session: 'العروض الشفهية / الجلسة 3', speakers: 'إدارة الجلسة: أ.د مذكور و أ.د لعكيلي', type: 'oral' },
  { time: '10:45 – 11:00', session: 'استراحة قهوة', speakers: '—', type: 'break' },
  { time: '11:00 – 11:45', session: 'الجلسة 4: الكيمياء، الأمن الحيوي والابتكارات التحليلية للصحة الواحدة\nمحاضرة عامة', speakers: 'المحاضر: أ.د ميشو\nإدارة الجلسة: أ.د طانان و د. الموسطي', type: 'session' },
  { time: '11:45 – 12:45', session: 'العروض الشفهية / الجلسة 4', speakers: 'إدارة الجلسة: أ.د طانان و د. الموسطي', type: 'oral' },
  { time: '12:45 – 13:30', session: 'الجلسة 5: التقنيات الناشئة، البيانات والمراقبة الذكية\nمن المستشعر إلى القرار: التقنيات والذكاء الاصطناعي للصحة الواحدة', speakers: 'المحاضر: أ.د جاكوب زينستاغ\nإدارة الجلسة: أ.د نوري و د. الموسطي', type: 'session' },
  { time: '13:30 – 14:30', session: 'العروض الشفهية / الجلسة 5', speakers: 'إدارة الجلسة: أ.د نوري و د. الموسطي', type: 'oral' },
  { time: '14:30 – 15:00', session: 'استراحة غداء', speakers: '—', type: 'break' },
  { time: '15:00 – 15:45', session: 'الجلسة 6: الرفاهية، الاستدامة ومرونة الأنظمة الحية\nالاستدامة، الرفاهية والمرونة في نهج الصحة الواحدة', speakers: 'المحاضر: أ.د جيوفاني غيلميتي\nإدارة الجلسة: أ.د مكامل و أ.د منوسي', type: 'session' },
  { time: '15:45 – 16:45', session: 'العروض الشفهية / الجلسة 6', speakers: 'أ.د مكامل و أ.د منوسي', type: 'oral' },
  { time: '16:45 – 17:00', session: 'استراحة قهوة', speakers: '—', type: 'break' },
  { time: '17:00 – 18:00', session: 'ورشة العمل 3', speakers: 'أ.د شكوري و أ.د مكامل', type: 'workshop' },
  { time: '18:00 – 19:00', session: 'ورشة العمل 4', speakers: 'أ.د مذكور و أ.د نوري', type: 'workshop' },
  { time: '19:00 – 19:30', session: 'جلسة الاختتام', speakers: 'لجنة التنظيم', type: 'plenary' },
];

function getRowStyle(type: string) {
  switch(type) {
    case 'break': return 'bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200';
    case 'plenary': return 'bg-brand-primary/10 dark:bg-brand-primary/20 text-brand-primary dark:text-brand-accent font-medium';
    case 'session': return 'bg-teal-50 dark:bg-teal-900/20';
    case 'workshop': return 'bg-purple-50 dark:bg-purple-900/20';
    case 'oral': return 'bg-slate-50 dark:bg-slate-700/30';
    default: return '';
  }
}
---

<BaseLayout
  title="البرنامج العلمي - CIRIV'26"
  description="اكتشف البرنامج الكامل لمؤتمر CIRIV'26 - 7 و 8 أبريل 2026"
  locale={locale}
>
  <Header locale={locale} currentPath={Astro.url.pathname} />
  
  <main dir="rtl" class="min-h-screen bg-gradient-to-br from-slate-50 to-teal-50 dark:from-surface-dark dark:to-slate-800 py-12">
    <div class="container mx-auto px-4">
      <!-- Header -->
      <div class="text-center mb-12">
        <span class="inline-block px-4 py-2 bg-brand-primary/10 dark:bg-brand-primary/20 text-brand-primary dark:text-brand-accent rounded-full text-sm font-medium mb-4">
          7 – 8 أبريل 2026
        </span>
        <h1 class="text-4xl lg:text-5xl font-bold text-slate-900 dark:text-white mb-4">
          البرنامج العلمي
        </h1>
        <p class="text-xl text-slate-600 dark:text-slate-300 max-w-3xl mx-auto">
          CIRIV'26 - المؤتمر الدولي للبحث والابتكار والتثمين
        </p>
      </div>

      <!-- Day 1 -->
      <div class="mb-12">
        <div class="flex items-center gap-4 mb-6 flex-row-reverse">
          <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-brand-primary to-brand-accent flex items-center justify-center text-white font-bold text-xl shadow-lg">
            ي1
          </div>
          <div class="text-right">
            <h2 class="text-2xl font-bold text-slate-900 dark:text-white">اليوم الأول</h2>
            <p class="text-slate-600 dark:text-slate-400">الثلاثاء 7 أبريل 2026</p>
          </div>
        </div>
        
        <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-slate-100 dark:bg-slate-700">
                <tr>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-slate-700 dark:text-slate-200 w-36">التوقيت</th>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-slate-700 dark:text-slate-200">الجلسة</th>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-slate-700 dark:text-slate-200 w-72">المسؤول / المتدخلون</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                {day1.map((item) => (
                  <tr class={`${getRowStyle(item.type)} transition-colors`}>
                    <td class="px-6 py-4 text-sm font-medium text-slate-900 dark:text-slate-100 whitespace-nowrap text-right">{item.time}</td>
                    <td class="px-6 py-4 text-sm text-slate-700 dark:text-slate-300 whitespace-pre-line text-right">{item.session}</td>
                    <td class="px-6 py-4 text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line text-right">{item.speakers}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Day 2 -->
      <div class="mb-12">
        <div class="flex items-center gap-4 mb-6 flex-row-reverse">
          <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-brand-accent to-teal-600 flex items-center justify-center text-white font-bold text-xl shadow-lg">
            ي2
          </div>
          <div class="text-right">
            <h2 class="text-2xl font-bold text-slate-900 dark:text-white">اليوم الثاني</h2>
            <p class="text-slate-600 dark:text-slate-400">الأربعاء 8 أبريل 2026</p>
          </div>
        </div>
        
        <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-slate-100 dark:bg-slate-700">
                <tr>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-slate-700 dark:text-slate-200 w-36">التوقيت</th>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-slate-700 dark:text-slate-200">الجلسة</th>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-slate-700 dark:text-slate-200 w-72">المسؤول / المتدخلون</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                {day2.map((item) => (
                  <tr class={`${getRowStyle(item.type)} transition-colors`}>
                    <td class="px-6 py-4 text-sm font-medium text-slate-900 dark:text-slate-100 whitespace-nowrap text-right">{item.time}</td>
                    <td class="px-6 py-4 text-sm text-slate-700 dark:text-slate-300 whitespace-pre-line text-right">{item.session}</td>
                    <td class="px-6 py-4 text-sm text-slate-600 dark:text-slate-400 whitespace-pre-line text-right">{item.speakers}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Legend -->
      <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-6 mb-12">
        <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4 text-right">دليل الألوان</h3>
        <div class="flex flex-wrap gap-4 justify-end">
          <div class="flex items-center gap-2 flex-row-reverse">
            <span class="w-4 h-4 rounded bg-brand-primary/20"></span>
            <span class="text-sm text-slate-600 dark:text-slate-400">جلسة عامة / حفل</span>
          </div>
          <div class="flex items-center gap-2 flex-row-reverse">
            <span class="w-4 h-4 rounded bg-teal-100 dark:bg-teal-900/40"></span>
            <span class="text-sm text-slate-600 dark:text-slate-400">محاضرة موضوعية</span>
          </div>
          <div class="flex items-center gap-2 flex-row-reverse">
            <span class="w-4 h-4 rounded bg-slate-100 dark:bg-slate-700"></span>
            <span class="text-sm text-slate-600 dark:text-slate-400">عروض شفهية</span>
          </div>
          <div class="flex items-center gap-2 flex-row-reverse">
            <span class="w-4 h-4 rounded bg-purple-100 dark:bg-purple-900/40"></span>
            <span class="text-sm text-slate-600 dark:text-slate-400">ورشة عمل</span>
          </div>
          <div class="flex items-center gap-2 flex-row-reverse">
            <span class="w-4 h-4 rounded bg-amber-100 dark:bg-amber-900/40"></span>
            <span class="text-sm text-slate-600 dark:text-slate-400">استراحة</span>
          </div>
        </div>
      </div>

      <!-- CTA Section -->
      <div class="text-center">
        <div class="bg-gradient-to-r from-brand-primary to-brand-accent rounded-2xl p-8 text-white">
          <h2 class="text-2xl font-bold mb-4">
            هل أنت مستعد للمشاركة؟
          </h2>
          <p class="text-lg mb-6 opacity-90">
            سجل الآن لحجز مكانك في مؤتمر CIRIV'26
          </p>
          <a
            href={link({ locale, slug: 'inscription' })}
            class="inline-flex items-center gap-3 px-8 py-4 bg-white text-brand-primary font-semibold rounded-xl transition-all duration-300 hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-brand-primary flex-row-reverse"
          >
            سجل الآن
            <svg class="w-5 h-5 rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </main>
  
  <Footer locale={locale} />
</BaseLayout>
