---
import { useTranslations } from '../i18n/ui';
import { link } from '../utils/paths';

interface Props {
  locale: 'fr' | 'en' | 'ar';
}

const { locale } = Astro.props;
const t = useTranslations(locale);
const isRTL = locale === 'ar';
const baseUrl = import.meta.env.BASE_URL || '/';
---

<section class="relative overflow-hidden bg-gradient-to-br from-slate-50 to-teal-50 dark:from-surface-dark dark:to-slate-800 pt-4 pb-16 lg:pt-6 lg:pb-20">
  <!-- Background Decoration -->
  <div class="absolute inset-0 overflow-hidden">
    <div class={`absolute -top-40 ${isRTL ? '-left-40' : '-right-40'} w-80 h-80 bg-gradient-to-br from-brand-accent/20 to-brand-primary/20 rounded-full blur-3xl`}></div>
    <div class={`absolute -bottom-40 ${isRTL ? '-right-40' : '-left-40'} w-80 h-80 bg-gradient-to-tr from-teal-400/20 to-emerald-400/20 rounded-full blur-3xl`}></div>
  </div>

  <div class="container mx-auto px-4 relative z-10">
    <div class={`grid lg:grid-cols-2 gap-12 lg:gap-16 items-center`}>
      <!-- Content -->
      <div class={`lg:col-start-1 ${isRTL ? 'text-right' : 'text-left'} animate-fade-in`}>
        <div class={`${isRTL ? 'w-full max-w-5xl ml-auto pr-4' : 'max-w-2xl lg:max-w-3xl mr-auto lg:mr-0'}`}>
          <h1 class={`text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-slate-900 dark:text-white whitespace-normal break-words hyphens-none ${isRTL ? 'text-right mb-14 leading-relaxed' : 'text-left mb-6 leading-tight'}`}>
            <span class={`bg-gradient-to-r from-brand-primary to-brand-accent bg-clip-text text-transparent block`}>
              {t('hero.title')}
            </span>
          </h1>
          
          <p class={`text-lg sm:text-xl text-slate-600 dark:text-slate-300 mb-8 leading-relaxed ${isRTL ? 'max-w-4xl text-right' : 'max-w-xl lg:max-w-2xl text-left'}`}>
            {t('hero.subtitle')}
          </p>
        </div>
        
        <div class={`flex ${isRTL ? 'justify-end' : 'justify-start'} mb-12`}>
          <a
            href={link({ locale, slug: 'inscription' })}
            class="inline-flex items-center gap-3 px-8 py-4 bg-brand-primary hover:bg-brand-primaryDark text-white font-semibold rounded-xl transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-brand-primary/25 focus:outline-none focus:ring-2 focus:ring-brand-accent focus:ring-offset-2 dark:focus:ring-offset-surface-dark"
          >
            {t('cta.register')}
            <svg class={`w-5 h-5 ${isRTL ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
        </div>
        
        <!-- Trusted By Section -->
        <div class="space-y-4">
          <p class={`text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider ${isRTL ? 'text-right' : 'text-left'}`}>
            {t('hero.trustedBy')}
          </p>
          <div class={`flex items-center gap-8 ${isRTL ? 'justify-end flex-row-reverse' : 'justify-start'}`}>
            <img 
              src={`${baseUrl}assets/logos/UH2C.png`}
              alt="UH2C University Logo"
              class="h-12 opacity-70 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"
              loading="lazy"
            />
            <img 
              src={`${baseUrl}assets/logos/FSBM.png`}
              alt="FSBM Faculty Logo"
              class="h-12 opacity-70 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"
              loading="lazy"
            />
            <img 
              src={`${baseUrl}assets/logos/AMARINOVA.png`}
              alt="AMARINOVA Logo"
              class="h-12 opacity-70 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"
              loading="lazy"
            />
          </div>
        </div>
      </div>

      <!-- Visual Element -->
      <div class="lg:col-start-2 flex items-center justify-center animate-fade-in">
        <div class="relative">
          <!-- Main Logo/Visual -->
          <div class="relative z-10 bg-white dark:bg-slate-800 rounded-3xl p-12 shadow-2xl shadow-brand-primary/10 border border-slate-200 dark:border-slate-700">
            <img 
              src={`${baseUrl}assets/logos/CIRIV.png`}
              alt="CIRIV 2026 Conference Logo"
              class="w-48 h-48 object-contain mx-auto dark:hidden"
              loading="eager"
            />
            <img 
              src={`${baseUrl}assets/logos/CIRIVB.png`}
              alt="CIRIV 2026 Conference Logo"
              class="w-48 h-48 object-contain mx-auto hidden dark:block"
              loading="eager"
            />
          </div>
          
          <!-- Floating Elements -->
          <div class={`absolute -top-4 w-16 h-16 bg-brand-accent/20 rounded-full blur-xl animate-pulse ${isRTL ? '-left-4' : '-right-4'}`}></div>
          <div class={`absolute -bottom-4 w-20 h-20 bg-teal-400/20 rounded-full blur-xl animate-pulse ${isRTL ? '-right-4' : '-left-4'}`} style="animation-delay: 1s;"></div>
        </div>
      </div>
    </div>
  </div>
</section>